<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>시선 성대점 이벤트 페이지</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- bootstrap / fontawesome (CDN) -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

<!-- static css -->
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!--favicon 설정-->
<link rel="icon" href="{{url_for('static', filename='favicon.ico') }}" type="image/x-icon">
</head>
<body>
<div class="container mt-4">
  <ul class="nav nav-tabs" id="mainTab" role="tablist">
    <li class="nav-item"><button class="nav-link active" id="chart-tab" data-bs-toggle="tab" data-bs-target="#chartTab" type="button">📈 차트</button></li>
    <li class="nav-item"><button class="nav-link" id="wheel-tab" data-bs-toggle="tab" data-bs-target="#wheelTab" type="button">🎯 원판돌리기</button></li>
  </ul>

  <div class="tab-content mt-3">
    <div class="tab-pane fade show active" id="chartTab">
      <h2 class="chart-title mt-3">
        시선 B.C(Booze Chart라는 뜻)
        <span id="marketStatus" class="badge">장 마감</span>
      </h2>

      <h4 id="currentPrice">현재가격: 5000원</h4>

      <div class="chart-container"><canvas id="chart" height="420"></canvas></div>
      <p style="text-align:center; color: black; font-size: 23px; font-weight: bold; margin-top: 10px;">
        주(酒)장 운영시간 (17:00-01:00)
      </p>

      <div class="d-flex flex-wrap justify-content-center mt-3 align-items-center">
        <button id="btnLowest" class="btn btn-success me-3 mb-2"><i class="fas fa-arrow-down"></i> 오늘의 최저가</button>
        <button id="btnLatest" class="btn btn-primary mb-2"><i class="fas fa-sync-alt"></i> 최신 보기</button>
      </div>
      <div class="d-flex justify-content-center mt-2 mb-1 text-center">
        <small>⬅️ 좌/우 화살표 버튼으로 과거/최신 데이터 탐색 ➡️</small>
      </div>
      <div class="arrow-container">
        <button id="btnPrev" class="btn btn-secondary"><i class="fas fa-arrow-left"></i></button>
        <button id="btnNext" class="btn btn-secondary"><i class="fas fa-arrow-right"></i></button>
      </div>
    </div>

    <div class="tab-pane fade" id="wheelTab">
      <div class="wheel-container">
        <h2>돌릴까말까 돌림판</h2>
        <div class="controls mb-2">옵션 개수:
          <button type="button" id="optDec" class="btn btn-outline-secondary btn-sm">-</button>
          <span id="optionCount">6</span>
          <button type="button" id="optInc" class="btn btn-outline-secondary btn-sm">+</button>
          <small>(2~8개 설정가능)</small>
        </div>
        <div class="inputs d-flex flex-wrap justify-content-center mb-2" id="optionInputs"></div>
        <div class="wheel-visual">
          <div id="pointer" aria-hidden="true"></div>
          <canvas id="wheelCanvas" width="400" height="400"></canvas>
        </div>
        <button class="btn btn-warning mt-3" id="spinBtn">돌려! 🐶</button>
        <h3 id="result" class="mt-3"></h3>
      </div>
    </div>
  </div>
</div>

<!-- bootstrap bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- static script -->
<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>